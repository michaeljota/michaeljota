<!DOCTYPE html>
<html lang="en">
<!-- Head tag -->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/favicon/favicon.ico">
  <title>michaeljota</title>
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/materialize/sass/materialize.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link rel="stylesheet" href="/css/ie10-viewport-bug-workaround.css">
  <!-- Custom styles for this template -->
  <link rel="stylesheet" href="/css/blog.css">
  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

  <body>
    <!-- Menu -->
    <nav>
  <div class="nav-wrapper">
    <a href="/" class="brand-logo mat-hexo">michaeljota</a>
    <ul id="nav-mobile" class="right hide-on-small-only">
      
  <li>
    <a href="/">
      Home
    </a>
  </li>

  <li>
    <a href="/archives">
      Archive
    </a>
  </li>

    </ul>
  </div>
</nav>
    <main class="container">
      <div class="row">
        <!-- Main Content -->
        <div class="col s12">
          <div class="row">
  <div class="col s12">
    <div class="card">
      <div class="card-content">
        <div class="card-header">
          <span class="card-title">
            <a href="/organizing-your-ngrx-components-using-ducks/">
              Organizing Your Ngrx Components Using Ducks
            </a>
          </span>
          <div class"row">
            

  
      <a href="/tags/typescript/">
        <div class="chip article">#typescript</div>
      </a>
     
      <a href="/tags/angular/">
        <div class="chip article">#angular</div>
      </a>
     
      <a href="/tags/ngrx/">
        <div class="chip article">#ngrx</div>
      </a>
     
      <a href="/tags/redux/">
        <div class="chip article">#redux</div>
      </a>
    


          </div>
          <span class="card-subtitle right-align">
            2018-03-07
            
          </span>
        </div>
      <h1 id="Organizing-your-ngrx-components-using-ducks"><a href="#Organizing-your-ngrx-components-using-ducks" class="headerlink" title="Organizing your ngrx components using ducks"></a>Organizing your ngrx components using ducks</h1><p>I started to use ngrx recently, again, but I couldn’t find a way to organize the code following the team recommendations. I noticed that most of the style guide was using a folder-by-type structure, popular amount React projects but discouraged by the Angular Style Guide, that strongly suggests the use of a folder-by-feature structure. They even divide the features of the application in core, shared, and other features, where most of the time, core module should be importing all the core components and services of the application and be loaded by the main module, shared module should use a barrel module for all the shared components and should be imported by the features modules, and they recommend to all others feature modules to be lazy loaded.</p>
<p>The community seems to have a strong opinion of when to use each structure, but most of the time, folder-by-feature is recommended, because it allows to scale easier than folder-by-type.</p>
<p>When I worked with Angular and ngrx, I used folder-by-type, and the projects I have worked with React, our team used folder-by-type, and we tried to implement the <a href="https://github.com/erikras/ducks-modular-redux" target="_blank" rel="noopener">ducks</a> proposal often. There is a extension of that proposal to be used in a folder-by-fracture structure, named <a href="https://github.com/alexnm/re-ducks" target="_blank" rel="noopener">re-ducks</a>. So, based off the re-ducks proposal, and using the Angular Style Guide, I develop a Tour of Hero app.</p>
<p>I documented the result in <a href="github.com/michaeljota/ngrx-ducks">ngrx-ducks</a> repository, and I will try to explain it here.</p>
<h3 id="Store"><a href="#Store" class="headerlink" title="Store"></a>Store</h3><p>In <code>@ngrx</code> the store have to be configured as a module, using a similar approach that Route Module have. So I took most of the recommendations about the routes in the ASG and applied to the Store in the project. </p>
<h3 id="Ducks"><a href="#Ducks" class="headerlink" title="Ducks"></a>Ducks</h3><p>Reducers, Actions, Effects, and Selectors, are called ducks in the proposal with the same name. In that proposal, it assumes that you are using a folder-by-type structure, and suggest to use a ducks file exporting all your ducks. In the re-ducks proposal however, it assumes that you are using a folder-by-feature structure, and suggest to separate each part of the ducks in its own file, and reexport them in a index file, inside a ducks folder.</p>
<p>In this proposal however, I assume that most of your reducers will be related with one component. Assuming that one reducer will handle the state of one component, allow you to put your ducks along with this.</p>
<p>To assume this, I also assume that you are using a folder-by-feature structure, and your are declaring a module for every of your features. This module should have its own store, and should import the state of the reducers and initialize the state of that feature. Also, it should export a feature selector, to be used by the each of that feature components selectors.</p>
<h1 id="A-word-about-this"><a href="#A-word-about-this" class="headerlink" title="A word about this"></a>A word about this</h1><p>Obviously, this is not an approach for everybody. If you fell like you can use the current style guide from <code>@ngrx</code>, that’s totally ok. I just need and alternative to use in larger projects. If you have a suggestion or anything, please, leave it in the comments, or better yet, open an issue in the repo.</p>
<p>The complete proposal is quite large to be included here, but you can read it in <a href="github.com/michaeljota/ngrx-ducks">ngrx-ducks</a>. </p>
<p>I know I did this thinking about me, but I really hope this can help someone else. </p>
<p>Thanks you so much for reading this, and I will really appreciate your thoughts about this. I don’t fell like having so much experience in large projects, but I do fell like thinking in horizontal scaling is a good approach to do so.  </p>

      </div>
    </div>
  </div>
</div>
<div class="post-entry">
  


</div>
        </div>
        <!-- Sidebar -->
        <!-- <div class="col l3 offset-l1">
          <div class="sidebar-module sidebar-module-inset">
    <h4>About</h4>
    <p>Etiam porta <em>sem malesuada magna</em> mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.</p>
</div>
<div class="sidebar-module">
    <h4>Archives</h4>
    <ol class="list-unstyled">
        <li><a href="#">March 2014</a></li>
        <li><a href="#">February 2014</a></li>
        <li><a href="#">January 2014</a></li>
        <li><a href="#">December 2013</a></li>
        <li><a href="#">November 2013</a></li>
    </ol>
</div>
<div class="sidebar-module">
    <h4>Elsewhere</h4>
    <ol class="list-unstyled">
        <li><a href="#">GitHub</a></li>
        <li><a href="#">Twitter</a></li>
        <li><a href="#">Facebook</a></li>
    </ol>
</div>
        </div> -->
      </div>
    </main>

    <!-- Footer -->
    <footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col m6 s12">
        <h5 class="white-text">About me</h5>
        
        <p class="grey-text text-lighten-4">
          I'm a venezuelan guy, living in the wild. I have a passion about new technologies and web standards. These are my ideas, although not everyone of them are good, they are mine. I'm always looking to improve the performance and styling of my coding.

        </p>
        
      </div>
      <div class="col s12 hide-on-med-and-up navigation">
        <h5 class="white-text">Navigation</h5>
        <ul class="grey-text text-lighten-4">
          
  <li>
    <a href="/">
      Home
    </a>
  </li>

  <li>
    <a href="/archives">
      Archive
    </a>
  </li>

        </ul>
      </div>
      <div class="col m4 offset-m2 s12">
        <h5 class="white-text">Social</h5>
        <ul class"social">
          
          
          <li>
            <a class="grey-text text-lighten-3" href="https://www.github.com/michaeljota">
              <i class="fab fa-github"></i> Github
            </a>
          </li>
          
          <li>
            <a class="grey-text text-lighten-3" href="https://www.linkedin.com/in/michael-de-abreu-178a41120">
              <i class="fab fa-linkedin"></i> LinkedIn
            </a>
          </li>
          
          
          
          <li>
            <a class="grey-text text-lighten-3" href="/atom.xml">
              <i class="fas fa-rss"></i> RSS
            </a>
          </li>
          
        </ul>
      </div>
    </div>
  </div>
  <div class="footer-copyright">
    <div class="container">
      © 2018 Michael De Abreu
      <span class="grey-text text-lighten-4 right">
        Theme made with ❤️ for
        <a href="https://hexo.io">Hexo</a>
        using 
        <a href="http://next.materializecss.com">Materialize</a>
      </span>
    </div>
  </div>
</footer>
    <!-- Scripts -->
    <script src="/materialize/js/materialize.min.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="/js/ie10-viewport-bug-workaround.js"></script>
  </body>

</html>